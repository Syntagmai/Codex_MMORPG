# Comportamento do Assistente

## 🚀 **ÍNDICE DE NAVEGAÇÃO RÁPIDA**

### **🎯 Contextos Principais:**
- **@otclient** → Desenvolvimento do cliente OTClient
- **@bmad** → Sistema de agentes BMAD  
- **@wiki** → Documentação da wiki
- **@integration** → Integração entre projetos

### **⚡ Ações Rápidas:**
- **🎯 Dashboard** → `wiki/dashboard/integrated_task_manager.md` (Sistema Central)
- **📋 Task Master** → `wiki/dashboard/task_master.md` (Sistema de Tarefas Principal)
- **📋 Regras** → `.cursor/rules/` (30 arquivos)
- **🗺️ Mapas** → `wiki/maps/` (23 arquivos JSON)
- **📚 Wiki** → `wiki/` (documentação estruturada)
- **🔧 Código** → `src/` (código-fonte - somente leitura)
- **🐍 Scripts** → `wiki/update/` (scripts Python com resolução automática)

### **🎯 Hierarquia de Prioridades:**
1. **CRÍTICO**: Dashboard Central, Task Master, Simplificação, Contexto, Permissões, Resolução de Erros
2. **IMPORTANTE**: Task Management, Token Optimization, JSON Navigation, File Organization
3. **OPCIONAL**: BMAD Agents, Auto-Learning, Cross-Project Integration

### **🧭 Padrões de Navegação:**
- **Dashboard Central**: `cursor.md` → `integrated_task_manager.md` → Sistema Completo
- **Task Master**: `cursor.md` → `task_master.md` → Sistema de Tarefas Principal
- **Análise de código**: `otclient_source_index.json` → `src/` → `modules/` → `wiki/otclient/`
- **Busca de documentação**: `tags_index.json` → `wiki_map.json` → `wiki/` → `relationships.json`
- **Navegação por grafos**: `navigation_graph.json` → Caminhos ótimos → Cache inteligente → Sugestões contextuais
- **Consulta de regras**: `cursor.md` → `.cursor/rules/` → `enhanced_context_system.json`
- **Workflow BMAD**: `bmad_agents.json` → `bmad_workflows.json` → `wiki/bmad/` → `bmad_rules.md`
- **Execução de scripts**: `cursor.md` → `script_execution_manager.py` → `python_error_resolver.py` → script.py

---

## ⚠️ **SISTEMA DE TAREFAS - REGRAS CRÍTICAS**

### 🚨 **CONTEXTO IMPORTANTE - TAREFAS SÃO REFERENTES AO SISTEMA DA PASTA WIKI/DASHBOARD**

**Este repositório possui DOIS sistemas principais de tarefas:**

1. **📋 Task Master** (`wiki/dashboard/task_master.md`) - **SISTEMA PRINCIPAL**
   - ✅ **Fonte única de verdade** para todas as tarefas
   - ✅ **58 tasks organizadas** em 5 Epics com prioridades claras
   - ✅ **Metodologia Habdel** para pesquisa profunda
   - ✅ **Sistema de prioridades** estruturado (Crítica → Alta → Média → Baixa)

2. **🎯 Integrated Task Manager** (`wiki/dashboard/integrated_task_manager.md`) - **SISTEMA DE INTEGRAÇÃO**
   - ✅ **Sistema de integração** OTClient-Canary
   - ✅ **15 tasks de integração** (86.7% completas)
   - ✅ **Foco em preparação** para integração total

### 📁 **Estrutura Real dos Sistemas de Tarefas**

```
📁 wiki/dashboard/ (SISTEMA DE TAREFAS PRINCIPAL)
├── 📋 task_master.md (SISTEMA PRINCIPAL - 58 tasks)
│   ├── 🔥 Epic 1: Pesquisa Profunda OTClient (23 tasks)
│   ├── 🔥 Epic 2: Pesquisa Profunda Canary (23 tasks)
│   ├── ⚡ Epic 3: Metodologia Habdel (5 tasks)
│   ├── 🟡 Epic 4: Integração e Comparação (10 tasks)
│   └── 🔵 Epic 5: Sistema de Agentes (5 tasks)
├── 🎯 integrated_task_manager.md (SISTEMA DE INTEGRAÇÃO - 15 tasks)
│   ├── ✅ Fase 1: Preparação (100% completa)
│   ├── ✅ Fase 2: Otimização (100% completa)
│   ├── ✅ Fase 3: Agentes (100% completa)
│   ├── ✅ Fase 4: Documentação (100% completa)
│   └── 🔄 Fase 5: Testes (0% - pendente)
└── 📊 Outros arquivos de controle
```

### 🎯 **O que É Possível Fazer**

✅ **Criar tarefas** APENAS segundo o Task Master (`task_master.md`)
✅ **Executar tarefas** seguindo as regras de prioridade estabelecidas
✅ **Atualizar progresso** no sistema de tarefas apropriado
✅ **Seguir metodologia Habdel** para pesquisa profunda
✅ **Respeitar hierarquia** de prioridades (Crítica → Alta → Média → Baixa)

### ❌ **O que NÃO É Possível Fazer**

❌ **Criar tarefas** fora do sistema Task Master
❌ **Ignorar prioridades** estabelecidas no Task Master
❌ **Modificar estrutura** de tarefas sem seguir regras
❌ **Executar tarefas** sem consultar o sistema apropriado

### 🔄 **Estratégia de Tarefas**

1. **Foco Principal**: Task Master (58 tasks - pesquisa Habdel)
2. **Sistema Secundário**: Integrated Task Manager (15 tasks - integração)
3. **Prioridades**: Respeitar hierarquia Crítica → Alta → Média → Baixa
4. **Metodologia**: Sempre usar metodologia Habdel para pesquisa
5. **Regras**: Seguir regras de tarefa estabelecidas

---

## 📋 Orquestrador de Regras

Este arquivo atua como **orquestrador** que referencia a **coletânea de regras** definidas na pasta:

📘 `.cursor/rules/`

---

## 🎯 Estrutura de Regras

### 📘 **Arquivos de Regras Disponíveis**

| Arquivo | Propósito | Status |
|---------|-----------|--------|
| `rules.md` | **Regras principais** de escopo e modificação | ✅ Ativo |
| `template.md` | **Template** para criar novas regras | ✅ Ativo |
| `documentation-rules.md` | **Regras de documentação** e formatação | ✅ Ativo |
| `wiki-rules.md` | **Regras específicas** para pasta wiki | ✅ Ativo |
| `prompt-engineering-rules.md` | **Regras de otimização automática** de prompts | ✅ Ativo |
| `enhanced-prompt-engineering-rules.md` | **Regras avançadas de engenharia** de prompts | ✅ Ativo |
| `wiki-json-navigation-rules.md` | **Regras de navegação JSON** para wiki | ✅ Ativo |
| `otclient-source-index-rules.md` | **Regras de indexação** do código-fonte | ✅ Ativo |
| `system-rules.md` | **Regras do sistema** de regras | ✅ Ativo |
| `auto-update-maps-rules.md` | **Regras de atualização automática** de mapas | ✅ Ativo |
| `file-organization-rules.md` | **Regras de organização** de arquivos | ✅ Ativo |
| `token-optimization-rules.md` | **Regras de otimização** de tokens | ✅ Ativo |
| `wiki-comprehensive-rules.md` | **Regras para wiki abrangente** e completa | ✅ Ativo |
| `cross-project-integration-rules.md` | **Regras de integração** entre OTClient e Canary | ✅ Ativo |
| `context-aware-rules.md` | **Regras de contexto inteligente** e detecção automática | ✅ Ativo |
| `bmad-system-rules.md` | **Regras do sistema BMAD** e agentes especializados | ✅ Ativo |
| `intelligent-orchestration-rules.md` | **Regras de orquestração inteligente** automática | ✅ Ativo |
| `report-cleanup-rules.md` | **Regras de limpeza** e organização de relatórios | ✅ Ativo |
| `task-automation-rules.md` | **Regras de automação** de tarefas e execução passo a passo | ✅ Ativo |
| `python-agent-rules.md` | **Regras do agente Python** especializado em desenvolvimento e qualidade | ✅ Ativo |
| `agent-organization-rules.md` | **Regras de organização automática** de agentes na estrutura BMAD | ✅ Ativo |
| `auto-learning-rules.md` | **Regras do sistema de auto aprendizado** BMAD | ✅ Ativo |
| `git-automation-rules.md` | **Regras de automação Git** e boas práticas | ✅ Ativo |
| `simplification-rules.md` | **Regras de simplificação** para evitar loops e travamentos | ✅ Ativo |
| `performance-rules.md` | **Regras de performance** e otimização do sistema | ✅ Ativo |
| `aaa-agent-specialization-rules.md` | **Regras de agentes especializados** de nível AAA | ✅ Ativo |
| `code-cleanup-rules.md` | **Regras de code cleanup** e organização automática | ✅ Ativo |
| `enhanced-context-system.json` | **Sistema de contexto avançado** e navegação inteligente | ✅ Ativo |
| `intelligent-navigation.json` | **Navegação inteligente** e padrões de acesso | ✅ Ativo |
| `integrated-task-management-rules.md` | **Regras do sistema integrado** de task management | ✅ Ativo |
| `git-task-manager-integration-rules.md` | **Regras de integração** Git-Task Manager | ✅ Ativo |
| `log-organization-rules.md` | **Regras de organização** de logs e arquivos de log | ✅ Ativo |
| `wiki-log-organization-rules.md` | **Regras de organização** da pasta wiki/log/ | ✅ Ativo |
| `readme-maintenance-rules.md` | **Regras de manutenção** do README.md | ✅ Ativo |

### 📁 **Contexto das Pastas do Projeto**

| Pasta/Arquivo | Propósito | Permissões |
|---------------|-----------|------------|
| `wiki/` | **Documentação estruturada** da wiki do OTClient | ✅ Modificação permitida |
| `wiki/dashboard/` | **Sistema de tarefas principal** (Task Master + Integrated Task Manager) | ✅ Modificação permitida |
| `wiki/dashboard/task_master.md` | **Sistema principal de tarefas** (58 tasks - fonte única de verdade) | ✅ Modificação permitida |
| `wiki/dashboard/integrated_task_manager.md` | **Sistema de integração** (15 tasks - 86.7% completa) | ✅ Modificação permitida |
| `.cursor/` | **Regras e configurações** do assistente | ✅ Modificação permitida |
| `.cursor/rules/` | **Regras específicas** e templates do assistente | ✅ Modificação permitida |
| `cursor.md` | **Arquivo orquestrador** das regras | ✅ Modificação permitida |
| `git-task-manager-integration-rules.md` | **Regras de integração** Git-Task Manager | ✅ Modificação permitida |
| **TODOS OS OUTROS** | **Código-fonte, recursos e configurações** do OTClient | ❌ Apenas leitura |

> [!warning] **LIMITAÇÃO IMPORTANTE**
> Este repositório contém **APENAS** o código-fonte do OTClient. O código-fonte do Canary **NÃO está disponível** para análise ou modificação.

### 🗺️ **Mapa Visual da Estrutura**

```
📁 otclient_doc/
├── 📋 cursor.md (ORQUESTRADOR PRINCIPAL)
├── 📋 wiki/dashboard/ (SISTEMA DE TAREFAS PRINCIPAL)
│   ├── 📋 task_master.md (SISTEMA PRINCIPAL - 58 tasks)
│   │   ├── 🔥 Epic 1: Pesquisa OTClient (23 tasks)
│   │   ├── 🔥 Epic 2: Pesquisa Canary (23 tasks)
│   │   ├── ⚡ Epic 3: Metodologia Habdel (5 tasks)
│   │   ├── 🟡 Epic 4: Integração (10 tasks)
│   │   └── 🔵 Epic 5: Agentes (5 tasks)
│   └── 🎯 integrated_task_manager.md (SISTEMA DE INTEGRAÇÃO - 15 tasks)
├── 📘 .cursor/rules/ (30 regras)
│   ├── 🎯 rules.md (regras principais)
│   ├── 🧠 prompt-engineering-rules.md
│   ├── 🗺️ wiki-json-navigation-rules.md
│   ├── 🔍 otclient-source-index-rules.md
│   ├── 🤖 bmad-system-rules.md
│   └── ... (25 outras regras)
├── 📚 wiki/ (documentação)
│   ├── 🗺️ maps/ (23 arquivos JSON)
│   │   ├── tags_index.json
│   │   ├── wiki_map.json
│   │   ├── enhanced_context_system.json
│   │   └── intelligent_navigation.json
│   ├── 🤖 bmad/ (sistema de agentes)
│   ├── 📖 otclient/ (documentação do cliente)
│   └── 🔗 integration/ (integração - preparação)
├── 🔧 src/ (código-fonte OTClient - somente leitura)
├── 📦 modules/ (módulos Lua - somente leitura)
└── 📁 data/ (recursos - somente leitura)

❌ canary_repository/ (FUTURO - SERÁ COPIADO)
   ├── 🔧 src/ (código Canary - futuro)
   └── 📚 wiki/ (documentação Canary - futuro)
```

### 🎯 **Fluxo de Navegação Otimizado**

```
1. 📋 cursor.md (ENTRADA)
   ↓
2. 📋 Task Master (task_master.md) - SISTEMA PRINCIPAL
   ↓
3. 🎯 Dashboard Central (integrated_task_manager.md) - SISTEMA DE INTEGRAÇÃO
   ↓
4. 🎯 Detectar contexto (@otclient, @bmad, @wiki, @integration)
   ↓
5. 🗺️ Consultar mapas JSON relevantes
   ↓
6. 📚 Acessar documentação específica
   ↓
7. 🔧 Consultar código-fonte OTClient (se necessário)
   ↓
8. ✅ Executar tarefa com regras apropriadas
   ↓
9. 📈 Atualizar sistema de tarefas apropriado
```

> [!info] **CONTEXTO DE NAVEGAÇÃO**
> - **OTClient**: Análise completa disponível (código + documentação)
> - **Canary**: Preparação para integração total (futuro)
> - **BMAD**: Sistema de agentes disponível para desenvolvimento
> - **Wiki**: Documentação OTClient disponível para modificação
> - **Task Master**: Sistema principal de tarefas (58 tasks - pesquisa Habdel)
> - **Integrated Task Manager**: Sistema de integração (15 tasks - 86.7% completa)

> [!warning] **DEFINIÇÃO CRÍTICA de "otclient"**: OTClient se refere a QUALQUER pasta, subpasta ou arquivo solto no repositório que NÃO seja `.cursor/`, `wiki/` e `cursor.md`. Isso inclui `src/`, `modules/`, `data/`, `tools/`, `docs/`, `README.md`, `LICENSE`, `CMakeLists.txt` e QUALQUER OUTRO ARQUIVO do repositório oficial.

---

## 🔄 Como Funciona

### 🎯 **Hierarquia de Prioridades (NOVA)**

**Nível 1 - CRÍTICO (Sempre aplicar):**
1. **Task Master** - Consultar `wiki/dashboard/task_master.md` primeiro
2. **Simplificação** - Evitar loops infinitos
3. **Contexto** - Detectar repositório atual (OTClient apenas)
4. **Permissões** - Respeitar restrições de modificação

**Nível 2 - IMPORTANTE (Aplicar quando relevante):**
5. **Token Optimization** - Economizar tokens
6. **JSON Navigation** - Usar mapas para consultas
7. **File Organization** - Manter estrutura limpa

**Nível 3 - OPCIONAL (Aplicar se necessário):**
8. **BMAD Agents** - Para tarefas complexas
9. **Auto-Learning** - Para melhorias futuras
10. **Cross-Project Integration** - Preparação para integração total (Canary como futuro)

> [!info] **PRIORIDADE ATUALIZADA**
> Task Master é o **sistema principal** de tarefas. Integrated Task Manager é o **sistema de integração**. Ambos devem ser consultados conforme apropriado.

### 📋 **Regras de Resolução de Conflitos**

- **Se regras conflitam**: Aplicar regra de nível superior
- **Se múltiplas regras do mesmo nível**: Aplicar a mais específica
- **Se ainda houver conflito**: Usar simplificação como padrão
- **Para tarefas**: Sempre consultar Task Master primeiro

### 🧠 **Sistema de Contexto Avançado**

#### **Contextos Disponíveis:**
- **@otclient** - Foco no desenvolvimento do cliente (código disponível)
- **@bmad** - Foco no sistema de agentes BMAD (desenvolvimento permitido)
- **@wiki** - Foco na documentação da wiki OTClient (modificação permitida)
- **@integration** - Foco na preparação para integração total (Canary como futuro)
- **@taskmaster** - Foco no sistema principal de tarefas (Task Master)

> [!info] **CONTEXTOS ATIVOS**
> - **@otclient**: Análise completa disponível
> - **@bmad**: Desenvolvimento de agentes permitido
> - **@wiki**: Documentação OTClient disponível
> - **@integration**: Preparação para integração total (Canary como futuro)
> - **@taskmaster**: Sistema principal de tarefas (58 tasks - pesquisa Habdel)

#### **Navegação Inteligente:**
- **Mapas JSON otimizados** para consultas rápidas
- **Cache inteligente** para arquivos frequentemente acessados
- **Detecção automática** de contexto baseada no pedido
- **Fallback automático** para modo simples em caso de problemas

> [!info] **NAVEGAÇÃO DISPONÍVEL**
> - **OTClient**: Análise completa (código + documentação)
> - **BMAD**: Desenvolvimento de agentes
> - **Wiki**: Documentação OTClient
> - **Canary**: Preparação para integração total (futuro)
> - **Git**: Automação de controle de versão
> - **Task Master**: Sistema principal de tarefas (58 tasks)

#### **Performance Otimizada:**
- **Limite de 3 níveis** de análise para evitar loops
- **Timeout de 30 segundos** para operações complexas
- **Lazy loading** de regras e mapas
- **Cache de 5 minutos** para consultas repetidas

#### **Resolução Automática de Erros:**
- **Detecção automática** de tipos de erro em scripts Python
- **Correção automática** de imports, sintaxe e encoding
- **Modo fallback** para scripts que falham
- **Log detalhado** de resoluções e estatísticas

---

1. **Este arquivo** (`cursor.md`) = Orquestrador/Referência
2. **Task Master** (`wiki/dashboard/task_master.md`) = Sistema Principal de Tarefas (58 tasks)
3. **Dashboard Central** (`wiki/dashboard/integrated_task_manager.md`) = Sistema de Integração (15 tasks)
4. **Pasta `.cursor/rules/`** = Coletânea de regras e templates
5. **Antes de qualquer tarefa**, consulte o Task Master e siga todas as regras relevantes
6. **Para cada prompt recebido**, aplique automaticamente as técnicas de engenharia de prompt
7. **Para consultas da wiki**, use navegação JSON: `tags_index.json` → `wiki_map.json` → `relationships.json` → markdown
8. **Para consultas do código-fonte**, use indexação JSON: `otclient_source_index.json` → código-fonte → wiki
9. **Para qualquer interação**, aplique sistema de regras: `cursor.md` → Task Master → regras específicas → execução
10. **Atualize mapas JSON** automaticamente antes de qualquer tarefa
11. **Organize arquivos** em pastas estruturadas
12. **Otimize tokens** usando inglês para IA e português para usuário
13. **Crie wiki abrangente** integrando TODO o conteúdo do habdel
14. **Prepare integração total** com Canary para ecossistema completo do jogo
15. **Detecte contexto** automaticamente e adapte comportamento
16. **Use agentes BMAD** para especialização quando apropriado
17. **Orquestre inteligentemente** agentes automaticamente baseado no contexto do pedido
18. **Limpe e organize** arquivos temporários e relatórios na pasta log
19. **Automatize tarefas** criando tarefas temporárias, executando passo a passo e gerando relatórios finais
20. **Aprenda automaticamente** com interações passadas para melhorar detecção de contexto e otimizar workflows
21. **Aplique simplificação** para solicitações simples, evitando loops infinitos e travamentos
22. **Use resolução automática de erros** para scripts Python que falham na execução
23. **Mantenha sistema sempre limpo** usando agente de organização inteligente
24. **Organize arquivos automaticamente** por categoria e data
25. **Remova arquivos temporários** e duplicatas automaticamente
26. **Preserve conhecimento importante** em estrutura organizada
27. **Atualize Task Master** após cada tarefa concluída
28. **Mantenha 100% de cobertura** de todas as tarefas do sistema

---

## ⚠️ Regras Principais (rules.md)

- **Nunca modifique** arquivos fora das pastas `wiki/`, `.cursor/` e `cursor.md`
- **Código-fonte** do OTClient é **imutável** sem autorização explícita
- **Sugestões** são permitidas via comentários (sem alterar código)
- **Quando mencionar "otclient"**: Refere-se a TODAS as pastas e arquivos que NÃO têm ✅ Modificação permitida
- **Canary**: Preparação para integração total (código não disponível)
- **Task Master**: Sistema principal de tarefas (58 tasks - fonte única de verdade)
- **Tarefas**: Só podem ser criadas segundo o Task Master e as regras de tarefa

> [!info] **CONTEXTO ATUALIZADO**
> O código-fonte do Canary será integrado no futuro para **integração total**. Tarefas relacionadas ao Canary focam na preparação e estrutura.

### 📁 **Referências de Pastas**

- **Quando mencionar "wiki"**: Refere-se à pasta `wiki/` do projeto
- **Quando mencionar "rules"**: Refere-se à pasta `.cursor/rules/` do projeto
- **Quando mencionar "otclient"**: Refere-se a TODAS as pastas e arquivos que NÃO têm ✅ Modificação permitida
- **Quando mencionar "taskmaster"**: Refere-se ao sistema principal de tarefas em `wiki/dashboard/task_master.md`
- **Pasta wiki**: Contém documentação estruturada da wiki do OTClient
- **Pasta rules**: Contém regras e templates do assistente
- **Pasta dashboard**: Contém sistema de tarefas principal (Task Master + Integrated Task Manager)
- **Pastas/arquivos otclient**: Contém código-fonte, recursos e configurações do OTClient (apenas leitura)

> [!warning] **LIMITAÇÃO IMPORTANTE**
> - **OTClient**: Código-fonte disponível para análise (somente leitura)
> - **Canary**: Código-fonte será integrado no futuro
> - **Integração**: Apenas preparação e estrutura para futuro
> - **Tarefas**: Só podem ser criadas segundo o Task Master e as regras de tarefa

---

## 📝 Regras de Documentação (documentation-rules.md)

- **Use formatação Obsidian** (callouts, wikilinks, frontmatter)
- **Mantenha consistência de estilo** com documentos existentes
- **Priorize exemplos práticos** e código funcional
- **Use linguagem clara e acessível**

---

## 📚 Regras da Wiki (wiki-rules.md)

- **Use extensão .md** para arquivos na pasta wiki
- **Use frontmatter obrigatório** com tags, status e aliases
- **Siga formatação Obsidian** (callouts, wikilinks, separadores)
- **Mantenha estrutura hierárquica** com índices e seções bem definidas
- **Proteção da pasta .obsidian** - NUNCA modifique arquivos em `wiki/.obsidian/` sem autorização prévia

---

## 🧠 Regras de Prompt Engineering (prompt-engineering-rules.md)

- **Analise prompts recebidos** e aplique técnicas de engenharia de prompt antes de executar
- **Use Role Prompting** para atribuir contexto específico à IA quando apropriado
- **Aplique Chain-of-Thought** para problemas complexos que requerem raciocínio passo-a-passo
- **Utilize Few-shot Prompting** quando exemplos podem melhorar a compreensão
- **Estruture a saída** quando o usuário precisa de respostas organizadas
- **Refatore prompts ambíguos** perguntando por contexto adicional quando necessário

---

## 🚀 Regras Avançadas de Prompt Engineering (enhanced-prompt-engineering-rules.md)

- **Aplique técnicas avançadas** de engenharia de prompt para otimizar interações
- **Use Meta-Prompting** para criar prompts que geram outros prompts
- **Aplique Tree-of-Thoughts** para exploração sistemática de soluções
- **Utilize Self-Consistency** para validação de respostas múltiplas
- **Implemente Prompt Chaining** para tarefas complexas multi-etapa
- **Use Contextual Prompting** para adaptação dinâmica baseada no contexto

---

## 🗺️ Regras de Navegação JSON (wiki-json-navigation-rules.md)

- **Use arquivos JSON como meio principal de navegação** durante consultas da wiki e regras
- **Mantenha `wiki/tags_index.json` atualizado** com todas as tags da wiki organizadas por arquivo
- **Consulte os mapas JSON antes de acessar arquivos markdown diretamente**
- **Atualize os arquivos JSON** quando criar, modificar ou remover documentos da wiki
- **Use a estrutura de consulta padronizada**: tags_index.json → wiki_map.json → relationships.json → markdown

---

## 🔍 Regras de Indexação do Código-Fonte (otclient-source-index-rules.md)

- **Consulte o código-fonte do OTClient antes da wiki** - é a fonte da verdade
- **Mantenha `otclient_source_index.json` atualizado** com todos os arquivos do código-fonte
- **Use hierarquia de consulta**: otclient_source_index.json → código-fonte → wiki → regras
- **Categorize por sistemas**: Core, UI, Game, Network, Resource, Module
- **Extraia funções e classes** automaticamente para busca rápida

---

## ⚙️ Regras do Sistema de Regras (system-rules.md)

- **Aplique todas as regras relevantes** em qualquer interação
- **Use hierarquia de regras**: cursor.md → regras específicas → templates → execução
- **Mantenha consistência** entre todas as regras
- **Aplique universalmente**: agentes, ask, desenvolvimento, documentação
- **Atualize automaticamente** quando criar novas regras

---

## 🔄 Regras de Atualização Automática (auto-update-maps-rules.md)

- **Execute scripts de atualização** antes de qualquer tarefa
- **Use ordem padronizada**: código-fonte → habdel → módulos → estilos → recursos → ferramentas → wiki
- **Valide integridade** de todos os mapas após atualização
- **Mantenha mapas sincronizados** com arquivos reais
- **Reporte status** de atualização automaticamente

---

## 📁 Regras de Organização (file-organization-rules.md)

- **Organize arquivos** em pastas específicas por função
- **Use estrutura padronizada**: tools/update/, wiki/maps/, wiki/docs/
- **Mantenha repositório limpo** sem arquivos soltos na raiz
- **Atualize referências** nos scripts após reorganização
- **Valide funcionamento** do sistema após mudanças

## 🎯 Regras de Otimização de Tokens (token-optimization-rules.md)

- **Use inglês para IA** (scripts, metadados, descrições técnicas)
- **Use português para usuário** (documentação, tags, aliases)
- **Implemente estratégia 20/80** para máxima economia de tokens
- **Mantenha funcionalidade** preservando experiência do usuário
- **Otimize automaticamente** todos os mapas JSON

## 📚 Regras para Wiki Abrangente (wiki-comprehensive-rules.md)

- **Integre TODO o conteúdo do habdel** na wiki
- **Crie documentação 100% completa** sem lacunas
- **Inclua exemplos práticos** de código funcional
- **Organize navegação lógica** entre documentos
- **Mantenha referências cruzadas** atualizadas

### 🔄 **Atualização Obrigatória**

- **Atualize** `wiki/otclient_wiki.md` quando criar novos documentos na wiki
- **Adicione referência** ao novo documento na seção "Documentação Criada"
- **Atualize estatísticas** de progresso e contadores
- **Mantenha links internos** funcionando entre documentos
- **Verifique consistência** com o padrão estabelecido

---

## 🎨 Template para Novas Regras

Consulte `template.md` para:
- Estrutura padrão de novas regras
- Modelo baseado no rules.md atual
- Checklist para criação de regras
- Sistema de atualização automática

---

## 📚 Como Criar Novas Regras

1. **Use o template** em `.cursor/rules/template.md`
2. **Siga a estrutura** estabelecida
3. **Adicione referência** neste arquivo
4. **Mantenha consistência** com regras existentes

---

## 🔄 Sistema de Atualização

### 📋 **Para Novas Regras**
Quando uma nova regra for criada:
- ✅ Criar arquivo na pasta `.cursor/rules/`
- ✅ Usar template como base
- ✅ Adicionar referência aqui
- ✅ Manter consistência

### 📚 **Para Novos Documentos da Wiki**
Quando um novo documento for criado na wiki:
- ✅ Criar arquivo na pasta `wiki/` com extensão `.md`
- ✅ Seguir template de documentação estabelecido
- ✅ **Executar script de atualização automática**: `python auto_update_all_maps.py`
- ✅ Atualizar `wiki/otclient_wiki.md` com referência ao novo documento
- ✅ Atualizar estatísticas de progresso
- ✅ Verificar links internos e consistência
- ✅ Manter formatação Obsidian e estrutura hierárquica
- ✅ **Validar sincronização** entre todos os mapas JSON
- ✅ **Reportar status** de atualização

## 🎯 Regras do Sistema BMAD (bmad-system-rules.md)

- **Use agentes especializados** para tarefas específicas quando apropriado
- **Coordene workflows** entre agentes para tarefas complexas
- **Use templates** padronizados para documentação
- **Mantenha especialização** de cada agente
- **Integre** com sistema de mapas JSON

---

## 🤖 Regras de Orquestração Inteligente (intelligent-orchestration-rules.md)

- **Analise contexto** do pedido do usuário automaticamente
- **Identifique agentes necessários** baseado no contexto detectado
- **Coordene workflow completo** sem intervenção manual
- **Reporte progresso** em tempo real
- **Sugira próximos passos** automaticamente
- **Detecte tecnologias** mencionadas (C++, Lua, OTClient, Canary)
- **Identifique tipo de tarefa** (otimização, nova feature, bug fix, documentação)
- **Determine complexidade** e duração estimada
- **Selecione agentes apropriados** automaticamente
- **Crie workflow otimizado** para a tarefa específica

---

## 🔗 Regras de Integração (cross-project-integration-rules.md)

- **Prepare estrutura** para integração total com Canary
- **Documente protocolos** compartilhados (OpenCode, ExtendedOpen)
- **Crie templates** para documentação futura do Canary
- **Estabeleça padrões** de comunicação cliente-servidor
- **Referencie** documentação externa do Canary quando disponível

> [!info] **CONTEXTO ATUALIZADO**
> Integração com Canary é preparação para **integração total**. O código-fonte do Canary será integrado no futuro.

---

## 🧹 Regras de Limpeza e Organização (report-cleanup-rules.md)

- **Identifique** arquivos temporários após conclusão de tarefas
- **Mova** relatórios de conclusão para `wiki/log/`
- **Mantenha** apenas arquivos essenciais no sistema
- **Organize** relatórios com estrutura padronizada
- **Inclua** receitas para reproduzir resultados
- **Arquive** arquivos de tarefas concluídas
- **Mantenha** histórico de execução
- **Documente** aprendizados e melhorias
- **Preserve** conhecimento para uso futuro

## ⚡ Regras de Simplificação (simplification-rules.md)

- **Detecte** se solicitação é simples ou complexa
- **Execute diretamente** solicitações simples sem criar tarefas
- **Aplique processo estruturado** apenas para solicitações complexas
- **Evite loops infinitos** com timeouts e limites de tentativas
- **Priorize solução imediata** sobre documentação extensa
- **Pare processos complexos** se sistema travar
- **Responda diretamente** se timeout for atingido
- **Mantenha compatibilidade** com regras existentes

---

## 🚀 Regras de Performance (performance-rules.md)

- **Limite análise** a máximo 3 níveis de profundidade
- **Use cache** para consultas repetidas
- **Priorize velocidade** sobre completude para tarefas simples
- **Implemente timeouts** de 30 segundos para análises complexas
- **Reduza tokens** removendo redundâncias desnecessárias
- **Otimize consultas** usando índices JSON em vez de busca direta
- **Aplique lazy loading** para carregar regras apenas quando necessário

---

## 🧭 Sistema de Navegação Inteligente (intelligent-navigation.json)

### **Contextos Automáticos:**
- **@otclient** - Desenvolvimento do cliente OTClient (código disponível)
- **@bmad** - Sistema de agentes BMAD (desenvolvimento permitido)
- **@wiki** - Documentação da wiki OTClient (modificação permitida)
- **@integration** - Preparação para integração total (Canary como futuro)
- **@git** - Operações de controle de versão (automação Git)
- **@taskmaster** - Sistema principal de tarefas (Task Master)

### **Padrões de Navegação:**
- **Análise de código OTClient**: source_index → src/ → modules/ → wiki/otclient/
- **Busca de documentação**: tags_index → wiki_map → wiki/ → relationships
- **Consulta de regras**: cursor.md → .cursor/rules/ → enhanced_context_system
- **Workflow BMAD**: bmad_agents → bmad_workflows → wiki/bmad/ → bmad_rules
- **Sistema de tarefas**: cursor.md → task_master.md → integrated_task_manager.md

> [!info] **NAVEGAÇÃO DISPONÍVEL**
> - **OTClient**: Análise completa (código + documentação)
> - **BMAD**: Desenvolvimento de agentes
> - **Wiki**: Documentação OTClient
> - **Canary**: Preparação para integração total (futuro)
> - **Git**: Automação de controle de versão
> - **Task Master**: Sistema principal de tarefas (58 tasks)

### **Cache Inteligente:**
- **Arquivos frequentes**: 30 minutos (cursor.md, tags_index, wiki_map)
- **Contexto**: 15 minutos (enhanced_context_system, context_data)
- **Datasets grandes**: 60 minutos (source_index, modules_index, resources_index)

### **Recuperação de Erros:**
- **Arquivo não encontrado**: Buscar similar → Usar índice
- **Permissão negada**: Trocar contexto → Modo somente leitura
- **Timeout**: Reduzir escopo → Modo simples

---

## ⚡ **OTIMIZAÇÕES DE PERFORMANCE**

### **🎯 Cache Inteligente:**
- **Arquivos frequentes** (30 min): `cursor.md`, `tags_index.json`, `wiki_map.json`
- **Contexto** (15 min): `enhanced_context_system.json`, `context_data.json`
- **Datasets grandes** (60 min): `otclient_source_index.json`, `modules_index.json`

### **🚀 Limites de Performance:**
- **Máximo 3 níveis** de análise para evitar loops
- **Timeout 30 segundos** para operações complexas
- **Máximo 10 arquivos** lidos por consulta
- **Máximo 50 resultados** por busca

### **🧠 Lazy Loading:**
- **Regras**: Carregadas apenas quando necessárias
- **Mapas JSON**: Carregados sob demanda
- **Documentação**: Carregada sempre (acesso direto)

### **📊 Métricas de Performance:**
- **Tarefas simples**: < 2 segundos
- **Tarefas complexas**: < 10 segundos
- **Análises grandes**: < 30 segundos