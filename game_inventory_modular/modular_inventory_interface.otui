--[[
    Modular Inventory Interface - Interface UI do Sistema de Inventário Modal
    ========================================================================
    
    Interface de usuário para o módulo de inventário modal,
    seguindo os padrões de design do OTClient e similar ao market.
    
    Características:
    - Janela modal principal
    - Layout organizado de slots de equipamento
    - Painel de informações do jogador
    - Botões de controle e ação
    - Design responsivo e intuitivo
    
    Autor: Sistema BMAD
    Versão: 1.0.0
    Data: 2025-01-27
]]

ModularInventoryWindow < MainWindow
  id: modularInventoryWindow
  !text: tr('Inventory')
  size: 600 500
  @onEscape: ModularInventory.close()

  // Painel Principal
  Panel
    id: mainPanel
    anchors.fill: parent
    padding: 10
    border-width: 1
    border-color: #000000

    // Cabeçalho com informações do jogador
    Panel
      id: playerInfoPanel
      anchors.top: parent.top
      anchors.left: parent.left
      anchors.right: parent.right
      height: 80
      padding: 5
      border-width: 1
      border-color: #333333
      background-color: #f0f0f0

      Label
        id: healthLabel
        !text: tr('HP: 100/100')
        font: verdana-11px-rounded
        text-offset: 0 2
        anchors.top: parent.top
        anchors.left: parent.left
        margin-left: 5
        margin-top: 5

      Label
        id: manaLabel
        !text: tr('MP: 50/50')
        font: verdana-11px-rounded
        text-offset: 0 2
        anchors.top: healthLabel.bottom
        anchors.left: parent.left
        margin-left: 5
        margin-top: 2

      Label
        id: capacityLabel
        !text: tr('Cap: 400/400')
        font: verdana-11px-rounded
        text-offset: 0 2
        anchors.top: manaLabel.bottom
        anchors.left: parent.left
        margin-left: 5
        margin-top: 2

      Label
        id: soulLabel
        !text: tr('Soul: 100')
        font: verdana-11px-rounded
        text-offset: 0 2
        anchors.top: parent.top
        anchors.right: parent.right
        margin-right: 5
        margin-top: 5

      Label
        id: staminaLabel
        !text: tr('Stamina: 42:00')
        font: verdana-11px-rounded
        text-offset: 0 2
        anchors.top: soulLabel.bottom
        anchors.right: parent.right
        margin-right: 5
        margin-top: 2

    // Painel de slots de equipamento
    Panel
      id: equipmentPanel
      anchors.top: playerInfoPanel.bottom
      anchors.left: parent.left
      anchors.right: parent.right
      anchors.bottom: controlPanel.top
      margin-top: 10
      margin-bottom: 10
      padding: 10
      border-width: 1
      border-color: #333333
      background-color: #ffffff

      // Slots de equipamento organizados em grid
      Panel
        id: equipmentGrid
        anchors.fill: parent
        layout: gridLayout
        grid-columns: 3
        grid-rows: 4
        grid-cell-spacing: 5

        // Cabeça
        ItemBox
          id: helmet
          size: 32 32
          grid-column: 1
          grid-row: 0
          grid-column-span: 1
          grid-row-span: 1
          margin: 2

          ItemBox
            id: helmet
            size: 32 32
            anchors.fill: parent

            Label
              id: duration
              font: verdana-9px-rounded
              text-offset: 0 0
              anchors.bottom: parent.bottom
              anchors.horizontalCenter: parent.horizontalCenter
              color: #ffffff
              text-auto-resize: true

        // Pescoço
        ItemBox
          id: amulet
          size: 32 32
          grid-column: 2
          grid-row: 0
          grid-column-span: 1
          grid-row-span: 1
          margin: 2

          ItemBox
            id: amulet
            size: 32 32
            anchors.fill: parent

            Label
              id: duration
              font: verdana-9px-rounded
              text-offset: 0 0
              anchors.bottom: parent.bottom
              anchors.horizontalCenter: parent.horizontalCenter
              color: #ffffff
              text-auto-resize: true

        // Mochila
        ItemBox
          id: backpack
          size: 32 32
          grid-column: 3
          grid-row: 0
          grid-column-span: 1
          grid-row-span: 1
          margin: 2

          ItemBox
            id: backpack
            size: 32 32
            anchors.fill: parent

            Label
              id: duration
              font: verdana-9px-rounded
              text-offset: 0 0
              anchors.bottom: parent.bottom
              anchors.horizontalCenter: parent.horizontalCenter
              color: #ffffff
              text-auto-resize: true

        // Armadura
        ItemBox
          id: armor
          size: 32 32
          grid-column: 1
          grid-row: 1
          grid-column-span: 1
          grid-row-span: 1
          margin: 2

          ItemBox
            id: armor
            size: 32 32
            anchors.fill: parent

            Label
              id: duration
              font: verdana-9px-rounded
              text-offset: 0 0
              anchors.bottom: parent.bottom
              anchors.horizontalCenter: parent.horizontalCenter
              color: #ffffff
              text-auto-resize: true

        // Escudo
        ItemBox
          id: shield
          size: 32 32
          grid-column: 2
          grid-row: 1
          grid-column-span: 1
          grid-row-span: 1
          margin: 2

          ItemBox
            id: shield
            size: 32 32
            anchors.fill: parent

            Label
              id: duration
              font: verdana-9px-rounded
              text-offset: 0 0
              anchors.bottom: parent.bottom
              anchors.horizontalCenter: parent.horizontalCenter
              color: #ffffff
              text-auto-resize: true

        // Espada
        ItemBox
          id: sword
          size: 32 32
          grid-column: 3
          grid-row: 1
          grid-column-span: 1
          grid-row-span: 1
          margin: 2

          ItemBox
            id: sword
            size: 32 32
            anchors.fill: parent

            Label
              id: duration
              font: verdana-9px-rounded
              text-offset: 0 0
              anchors.bottom: parent.bottom
              anchors.horizontalCenter: parent.horizontalCenter
              color: #ffffff
              text-auto-resize: true

        // Pernas
        ItemBox
          id: legs
          size: 32 32
          grid-column: 1
          grid-row: 2
          grid-column-span: 1
          grid-row-span: 1
          margin: 2

          ItemBox
            id: legs
            size: 32 32
            anchors.fill: parent

            Label
              id: duration
              font: verdana-9px-rounded
              text-offset: 0 0
              anchors.bottom: parent.bottom
              anchors.horizontalCenter: parent.horizontalCenter
              color: #ffffff
              text-auto-resize: true

        // Botas
        ItemBox
          id: boots
          size: 32 32
          grid-column: 2
          grid-row: 2
          grid-column-span: 1
          grid-row-span: 1
          margin: 2

          ItemBox
            id: boots
            size: 32 32
            anchors.fill: parent

            Label
              id: duration
              font: verdana-9px-rounded
              text-offset: 0 0
              anchors.bottom: parent.bottom
              anchors.horizontalCenter: parent.horizontalCenter
              color: #ffffff
              text-auto-resize: true

        // Anel
        ItemBox
          id: ring
          size: 32 32
          grid-column: 3
          grid-row: 2
          grid-column-span: 1
          grid-row-span: 1
          margin: 2

          ItemBox
            id: ring
            size: 32 32
            anchors.fill: parent

            Label
              id: duration
              font: verdana-9px-rounded
              text-offset: 0 0
              anchors.bottom: parent.bottom
              anchors.horizontalCenter: parent.horizontalCenter
              color: #ffffff
              text-auto-resize: true

        // Ferramentas
        ItemBox
          id: tools
          size: 32 32
          grid-column: 1
          grid-row: 3
          grid-column-span: 1
          grid-row-span: 1
          margin: 2

          ItemBox
            id: tools
            size: 32 32
            anchors.fill: parent

            Label
              id: duration
              font: verdana-9px-rounded
              text-offset: 0 0
              anchors.bottom: parent.bottom
              anchors.horizontalCenter: parent.horizontalCenter
              color: #ffffff
              text-auto-resize: true

    // Painel de controles
    Panel
      id: controlPanel
      anchors.bottom: parent.bottom
      anchors.left: parent.left
      anchors.right: parent.right
      height: 120
      padding: 5
      border-width: 1
      border-color: #333333
      background-color: #f0f0f0

      // Botões de postura
      Panel
        id: posturePanel
        anchors.top: parent.top
        anchors.left: parent.left
        width: 100
        height: 50

        Button
          id: standButton
          !text: tr('Stand')
          size: 45 20
          anchors.top: parent.top
          anchors.left: parent.left
          margin-left: 5
          margin-top: 5

        Button
          id: followButton
          !text: tr('Follow')
          size: 45 20
          anchors.top: standButton.bottom
          anchors.left: parent.left
          margin-left: 5
          margin-top: 5

      // Botões de modo PvP
      Panel
        id: pvpPanel
        anchors.top: parent.top
        anchors.left: posturePanel.right
        width: 150
        height: 50

        Button
          id: whiteModeButton
          !text: tr('White')
          size: 45 20
          anchors.top: parent.top
          anchors.left: parent.left
          margin-left: 5
          margin-top: 5

        Button
          id: yellowModeButton
          !text: tr('Yellow')
          size: 45 20
          anchors.top: parent.top
          anchors.left: whiteModeButton.right
          margin-left: 5
          margin-top: 5

        Button
          id: redModeButton
          !text: tr('Red')
          size: 45 20
          anchors.top: whiteModeButton.bottom
          anchors.left: parent.left
          margin-left: 5
          margin-top: 5

      // Botões de ação
      Panel
        id: actionPanel
        anchors.top: parent.top
        anchors.right: parent.right
        width: 120
        height: 50

        Button
          id: purseButton
          !text: tr('Purse')
          size: 50 20
          anchors.top: parent.top
          anchors.right: parent.right
          margin-right: 5
          margin-top: 5

        Button
          id: blessingsButton
          !text: tr('Blessings')
          size: 70 20
          anchors.top: purseButton.bottom
          anchors.right: parent.right
          margin-right: 5
          margin-top: 5

      // Botão de fechar
      Button
        id: closeButton
        !text: tr('Close')
        size: 80 25
        anchors.bottom: parent.bottom
        anchors.horizontalCenter: parent.horizontalCenter
        margin-bottom: 5

      // Informações adicionais
      Label
        id: infoLabel
        !text: tr('Modular Inventory System v1.0')
        font: verdana-9px-rounded
        text-offset: 0 0
        anchors.bottom: parent.bottom
        anchors.left: parent.left
        margin-left: 5
        margin-bottom: 5
        color: #666666 