# Regras de Code Cleanup e Organiza√ß√£o Autom√°tica

## üéØ Prop√≥sito

Definir regras para **limpeza autom√°tica de c√≥digo** e **organiza√ß√£o inteligente** de arquivos, pastas e relat√≥rios, garantindo um sistema sempre limpo, organizado e eficiente.

---

## üßπ Princ√≠pios de Code Cleanup

### **Organiza√ß√£o Autom√°tica**
- **SEMPRE mantenha** estrutura de pastas organizada
- **SEMPRE categorize** arquivos por tipo e fun√ß√£o
- **SEMPRE remova** arquivos tempor√°rios automaticamente
- **SEMPRE organize** relat√≥rios em pastas espec√≠ficas
- **SEMPRE mantenha** hist√≥rico limpo e rastre√°vel

### **Limpeza Inteligente**
- **SEMPRE identifique** arquivos obsoletos automaticamente
- **SEMPRE mova** arquivos para pastas apropriadas
- **SEMPRE mantenha** apenas arquivos essenciais
- **SEMPRE preserve** conhecimento importante
- **SEMPRE documente** mudan√ßas de organiza√ß√£o

---

## üìÅ Estrutura de Organiza√ß√£o Padr√£o

### **Pasta `wiki/log/` - Estrutura Limpa**
```
wiki/log/
‚îú‚îÄ‚îÄ reports/                    # Relat√≥rios organizados por data
‚îÇ   ‚îú‚îÄ‚îÄ 2025-01/               # Relat√≥rios de janeiro 2025
‚îÇ   ‚îú‚îÄ‚îÄ 2025-02/               # Relat√≥rios de fevereiro 2025
‚îÇ   ‚îî‚îÄ‚îÄ current/                # Relat√≥rios atuais
‚îú‚îÄ‚îÄ completed_tasks/            # Tarefas conclu√≠das
‚îÇ   ‚îú‚îÄ‚îÄ system_updates/         # Atualiza√ß√µes do sistema
‚îÇ   ‚îú‚îÄ‚îÄ feature_implementations/ # Implementa√ß√µes de features
‚îÇ   ‚îî‚îÄ‚îÄ bug_fixes/              # Corre√ß√µes de bugs
‚îú‚îÄ‚îÄ archives/                   # Arquivos arquivados
‚îÇ   ‚îú‚îÄ‚îÄ obsolete_files/         # Arquivos obsoletos
‚îÇ   ‚îú‚îÄ‚îÄ historical_data/        # Dados hist√≥ricos
‚îÇ   ‚îî‚îÄ‚îÄ old_reports/            # Relat√≥rios antigos
‚îú‚îÄ‚îÄ recipes/                    # Receitas para reproduzir resultados
‚îú‚îÄ‚îÄ learning/                   # Dados de aprendizado
‚îú‚îÄ‚îÄ python_agent/               # Logs do agente Python
‚îú‚îÄ‚îÄ aaa_validation/             # Valida√ß√µes AAA
‚îú‚îÄ‚îÄ aaa_fixes/                  # Corre√ß√µes AAA
‚îî‚îÄ‚îÄ temp_tasks/                 # Tarefas tempor√°rias
```

### **Pasta `wiki/update/` - Scripts Organizados**
```
wiki/update/
‚îú‚îÄ‚îÄ core/                       # Scripts principais
‚îÇ   ‚îú‚îÄ‚îÄ auto_update_all_maps.py
‚îÇ   ‚îú‚îÄ‚îÄ cleanup_system.py
‚îÇ   ‚îî‚îÄ‚îÄ git_task_integration.py
‚îú‚îÄ‚îÄ agents/                     # Scripts de agentes
‚îÇ   ‚îú‚îÄ‚îÄ agent_organizer.py
‚îÇ   ‚îî‚îÄ‚îÄ python_agent_system.py
‚îú‚îÄ‚îÄ maintenance/                # Scripts de manuten√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ optimize_json_maps.py
‚îÇ   ‚îî‚îÄ‚îÄ system_cleanup.py
‚îî‚îÄ‚îÄ specialized/                # Scripts especializados
    ‚îú‚îÄ‚îÄ aaa_agent_specialization_system.py
    ‚îî‚îÄ‚îÄ enhanced_intelligent_orchestrator.py
```

---

## ü§ñ Agente de Organiza√ß√£o Autom√°tica

### **Funcionalidades Obrigat√≥rias**

#### **1. Detec√ß√£o Autom√°tica de Desorganiza√ß√£o**
```python
def detect_organization_issues():
    """Detecta problemas de organiza√ß√£o automaticamente"""
    
    issues = {
        "files_in_wrong_location": [],
        "duplicate_files": [],
        "obsolete_files": [],
        "unorganized_reports": [],
        "temp_files_not_cleaned": []
    }
    
    # Verificar arquivos na pasta log
    log_files = scan_log_directory()
    for file in log_files:
        if is_in_wrong_location(file):
            issues["files_in_wrong_location"].append(file)
        
        if is_obsolete(file):
            issues["obsolete_files"].append(file)
    
    return issues
```

#### **2. Organiza√ß√£o Autom√°tica por Categoria**
```python
def organize_by_category():
    """Organiza arquivos por categoria automaticamente"""
    
    categories = {
        "reports": {
            "patterns": ["*_REPORT.md", "*_report.md", "Relat√≥rio_*.md"],
            "destination": "wiki/log/reports/current/"
        },
        "completed_tasks": {
            "patterns": ["TASK_*.md", "*_task.md"],
            "destination": "wiki/log/completed_tasks/"
        },
        "recipes": {
            "patterns": ["*_recipe.md", "*_RECIPE.md"],
            "destination": "wiki/log/recipes/"
        },
        "archives": {
            "patterns": ["*_old.md", "*_obsolete.md", "*_archive.md"],
            "destination": "wiki/log/archives/"
        }
    }
    
    for category, config in categories.items():
        organize_files_by_pattern(config["patterns"], config["destination"])
```

#### **3. Limpeza Autom√°tica de Arquivos Tempor√°rios**
```python
def cleanup_temp_files():
    """Remove arquivos tempor√°rios automaticamente"""
    
    temp_patterns = [
        "*.tmp", "*.temp", "*_temp.md", "*_tmp.md",
        "temp_*", "tmp_*", "*_backup.md", "*_old.md"
    ]
    
    for pattern in temp_patterns:
        remove_files_by_pattern(pattern)
```

#### **4. Organiza√ß√£o por Data**
```python
def organize_by_date():
    """Organiza relat√≥rios por data automaticamente"""
    
    current_month = datetime.now().strftime("%Y-%m")
    reports_dir = Path("wiki/log/reports")
    
    # Criar pasta do m√™s se n√£o existir
    month_dir = reports_dir / current_month
    month_dir.mkdir(exist_ok=True)
    
    # Mover relat√≥rios para pasta do m√™s
    for report_file in reports_dir.glob("*.md"):
        if report_file.parent == reports_dir:  # N√£o est√° em subpasta
            shutil.move(str(report_file), str(month_dir / report_file.name))
```

---

## üìã Regras de Organiza√ß√£o Espec√≠ficas

### **üìÑ Relat√≥rios**
- **SEMPRE organize** por data (YYYY-MM)
- **SEMPRE use** nomenclatura padronizada
- **SEMPRE mova** para pasta `reports/current/` se ativo
- **SEMPRE arquive** em `reports/YYYY-MM/` se antigo
- **SEMPRE mantenha** apenas relat√≥rios relevantes

### **üìã Tarefas**
- **SEMPRE mova** tarefas conclu√≠das para `completed_tasks/`
- **SEMPRE categorize** por tipo (system_updates, features, bugs)
- **SEMPRE mantenha** apenas tarefas ativas em `temp_tasks/`
- **SEMPRE arquive** tarefas antigas em `archives/`

### **üìö Receitas**
- **SEMPRE mantenha** em `recipes/` organizadas por categoria
- **SEMPRE use** nomenclatura descritiva
- **SEMPRE inclua** ingredientes e passos claros
- **SEMPRE mantenha** atualizadas

### **üóÇÔ∏è Arquivos Obsoletos**
- **SEMPRE identifique** automaticamente
- **SEMPRE mova** para `archives/obsolete_files/`
- **SEMPRE documente** motivo da obsolesc√™ncia
- **SEMPRE mantenha** backup antes de remover

---

## üîÑ Processo de Limpeza Autom√°tica

### **üìã Checklist de Limpeza Di√°ria**
```python
def daily_cleanup():
    """Executa limpeza di√°ria autom√°tica"""
    
    # 1. Detectar problemas de organiza√ß√£o
    issues = detect_organization_issues()
    
    # 2. Organizar relat√≥rios por data
    organize_by_date()
    
    # 3. Mover tarefas conclu√≠das
    move_completed_tasks()
    
    # 4. Limpar arquivos tempor√°rios
    cleanup_temp_files()
    
    # 5. Organizar por categoria
    organize_by_category()
    
    # 6. Remover duplicatas
    remove_duplicates()
    
    # 7. Atualizar √≠ndices
    update_organization_index()
```

### **üìã Checklist de Limpeza Semanal**
```python
def weekly_cleanup():
    """Executa limpeza semanal mais profunda"""
    
    # 1. Limpeza di√°ria
    daily_cleanup()
    
    # 2. Arquivar relat√≥rios antigos
    archive_old_reports()
    
    # 3. Consolidar relat√≥rios similares
    consolidate_similar_reports()
    
    # 4. Otimizar estrutura de pastas
    optimize_folder_structure()
    
    # 5. Validar integridade
    validate_organization_integrity()
    
    # 6. Gerar relat√≥rio de limpeza
    generate_cleanup_report()
```

---

## üéØ Regras de Nomenclatura

### **üìÑ Relat√≥rios**
```
Formato: [TIPO]_[DESCRI√á√ÉO]_[DATA]_REPORT.md
Exemplos:
- SYSTEM_CLEANUP_2025-01-28_REPORT.md
- GIT_AUTOMATION_2025-01-28_REPORT.md
- AGENT_ORGANIZATION_2025-01-28_REPORT.md
```

### **üìã Tarefas**
```
Formato: TASK_[ID]_[DESCRI√á√ÉO]_[DATA].md
Exemplos:
- TASK_001_SYSTEM_CLEANUP_2025-01-28.md
- TASK_002_GIT_AUTOMATION_2025-01-28.md
```

### **üìö Receitas**
```
Formato: [CATEGORIA]_[DESCRI√á√ÉO]_RECIPE.md
Exemplos:
- SYSTEM_CLEANUP_RECIPE.md
- GIT_AUTOMATION_RECIPE.md
- AGENT_ORGANIZATION_RECIPE.md
```

---

## ü§ñ Agente de Organiza√ß√£o Inteligente

### **Detec√ß√£o Autom√°tica de Contexto**
```python
def detect_file_context(file_path: Path) -> str:
    """Detecta contexto do arquivo automaticamente"""
    
    # Padr√µes de detec√ß√£o
    patterns = {
        "report": ["*_REPORT.md", "*_report.md", "Relat√≥rio_*.md"],
        "task": ["TASK_*.md", "*_task.md"],
        "recipe": ["*_RECIPE.md", "*_recipe.md"],
        "log": ["*.log", "*_log.md"],
        "config": ["*.json", "*.yaml", "*.yml"],
        "script": ["*.py", "*.sh", "*.bat"]
    }
    
    for context, pattern_list in patterns.items():
        for pattern in pattern_list:
            if file_path.match(pattern):
                return context
    
    return "other"
```

### **Organiza√ß√£o Inteligente**
```python
def intelligent_organization():
    """Organiza√ß√£o inteligente baseada em contexto"""
    
    # 1. Analisar todos os arquivos
    all_files = scan_all_files()
    
    # 2. Detectar contexto de cada arquivo
    for file_path in all_files:
        context = detect_file_context(file_path)
        
        # 3. Determinar localiza√ß√£o ideal
        ideal_location = determine_ideal_location(file_path, context)
        
        # 4. Mover se necess√°rio
        if file_path.parent != ideal_location:
            move_file_safely(file_path, ideal_location)
```

---

## üìä M√©tricas de Organiza√ß√£o

### **Indicadores de Qualidade**
- **Taxa de arquivos organizados**: > 95%
- **Taxa de limpeza autom√°tica**: > 90%
- **Tempo de organiza√ß√£o**: < 30 segundos
- **Taxa de detec√ß√£o de problemas**: > 85%

### **M√©tricas de Performance**
- **Arquivos processados por minuto**: > 100
- **Tempo de resposta**: < 5 segundos
- **Taxa de erro**: < 1%
- **Efici√™ncia de organiza√ß√£o**: > 95%

---

## üîÑ Integra√ß√£o com Sistema Existente

### **Com Sistema de Limpeza**
- **Integra√ß√£o completa** com `cleanup_system.py`
- **Execu√ß√£o autom√°tica** ap√≥s tarefas
- **Relat√≥rios unificados** de limpeza
- **M√©tricas compartilhadas**

### **Com Sistema de Agentes**
- **Detec√ß√£o autom√°tica** de novos agentes
- **Organiza√ß√£o autom√°tica** de estrutura
- **Integra√ß√£o com BMAD** completa
- **Workflows coordenados**

### **Com Sistema Git**
- **Commits autom√°ticos** de organiza√ß√£o
- **Hist√≥rico limpo** de mudan√ßas
- **Rastreabilidade** de organiza√ß√£o
- **Backup autom√°tico**

---

## üéØ Regras de Execu√ß√£o

### **üîÑ Execu√ß√£o Autom√°tica**
- **SEMPRE execute** ap√≥s conclus√£o de tarefas
- **SEMPRE execute** diariamente √†s 00:00
- **SEMPRE execute** semanalmente aos domingos
- **SEMPRE execute** quando detectar desorganiza√ß√£o

### **üìã Valida√ß√£o**
- **SEMPRE valide** organiza√ß√£o antes de commitar
- **SEMPRE teste** se sistema continua funcionando
- **SEMPRE verifique** se arquivos foram movidos corretamente
- **SEMPRE confirme** se estrutura est√° limpa

---

## üéâ Benef√≠cios Esperados

### **üßπ Organiza√ß√£o**
- **Sistema sempre limpo** e organizado
- **Arquivos f√°ceis de encontrar** e acessar
- **Estrutura consistente** e previs√≠vel
- **Hist√≥rico limpo** e rastre√°vel

### **üìä Efici√™ncia**
- **Busca r√°pida** de informa√ß√µes
- **Navega√ß√£o intuitiva** no sistema
- **Manuten√ß√£o simplificada**
- **Produtividade aumentada**

### **üîÑ Sustentabilidade**
- **Sistema escal√°vel** e organizado
- **Processos automatizados** e confi√°veis
- **Conhecimento preservado** e acess√≠vel
- **Evolu√ß√£o cont√≠nua** e organizada

---

*Regras criadas pelo Sistema BMAD - OTClient Documentation* 